--Объединение результатов запросов (или)
select au_fname, au_lname, state 
from authors
where state = 'ca'
UNION
select au_fname, au_lname, state 
from authors
where state = 'UT'
UNION
select title, type, notes
from titles
where type = 'mod_cook'

select au_fname, au_lname, state 
from authors
where state in('CA', 'UT')

--пересечение результатов запросов (и)
select au_fname, au_lname, state 
from authors
where state = 'ca'
INTERSECT
select au_fname, au_lname, state 
from authors
where contract = 0

--вычитание результатов запросов. (все авторы кроме CA)
select au_fname, au_lname, state 
from authors
EXCEPT
select au_fname, au_lname, state 
from authors
where state = 'CA'


--добавление в новую таблицу результатов запросов. (все авторы кроме CA)
select au_fname, au_lname, state 
into au_result
from authors
EXCEPT
select au_fname, au_lname, state 
from authors
where state = 'CA'


--_ - один любой символ
--% - любая строка любой длины
--^ - отрицание символов в []

--поиск по шаблону (показать все книги, названия которых начинаются на букву 'N')
select * from titles
where title LIKE 'N%'

--поиск по шаблону ( показать все книги, в названиях которых вторая буква 'О' )
select * from titles
where title LIKE '_o%'

--поиск по шаблону ( показать все книги, названия которых начинаются на гласную букву )
select * from titles
where title LIKE '[aeuoiy]%'

--поиск по шаблону ( показать все книги, названия которых закатчиваются на любую букву )
select * from titles
where title LIKE '%[a-z]'

--поиск по шаблону ( показать все книги, названия которых начинаются не на гласную букву )
select * from titles
where title LIKE '[^aeuoiy]%'

-- конвертация числа в строку
--cast() convert()

--показать все книги в названии которые встречается хотя бы один из символов(?!-,)
select * from titles
where title LIKE '%?%' or title LIKE '%!%' or title LIKE '%-%' or title LIKE '%,%'

select * from titles
where title LIKE '%[?!,-]%'

--создание представления
create view v1
as
select * from authors
where state = 'CA'

--изменение существующего представления
alter view v1
as
select * from authors
where state = 'UT'

--Удачная попытка модификации таблицы через представления 
update v1
set contract = 0

select * from v1
--удаление представления
drop view v1

SELECT CAST(1 AS FLOAT)/2 FROM titles

insert into publishers (pub_id, pub_name,city,state,country)
values('9955','Sun & Rain','London', Null,'UK ')